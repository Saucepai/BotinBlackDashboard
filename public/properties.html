<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>üè† Property Management - Bot in Black Dashboard</title>
<style>
    body {
        font-family: 'Arial', sans-serif;
        background: url('public/assets/rdobackground.png') no-repeat center center fixed;
        background-size: cover;
        color: #fff;
        padding: 40px;
        text-align: center;
    }

    nav a {
        color: #fff;
        text-decoration: none;
        font-weight: bold;
        margin: 0 20px;
        font-size: 18px;
    }
    nav a:hover { text-decoration: underline; }

    h1 { font-size: 3rem; margin-bottom: 40px; text-shadow: 4px 4px 10px #000; }

    .card {
        display: inline-block;
        background: rgba(0,0,0,0.6);
        padding: 25px;
        border-radius: 12px;
        box-shadow: 4px 4px 15px #000;
        margin: 15px;
        width: 320px;
        text-align: left;
        vertical-align: top;
    }
    .card h3 { margin-top: 0; }

    input[type=text], input[type=number] {
        width: calc(100% - 20px);
        padding: 10px;
        margin: 8px 0;
        border-radius: 6px;
        border: none;
    }

    button {
        padding: 10px 18px;
        font-size: 16px;
        cursor: pointer;
        border: none;
        border-radius: 6px;
        background-color: rgba(0,0,0,0.6);
        color: #fff;
        margin-top: 8px;
        transition: background-color 0.3s, transform 0.2s;
    }
    button:hover {
        background-color: rgba(0,0,0,0.85);
        transform: scale(1.05);
    }

    #outputContainer {
        margin-top: 30px;
        max-width: 900px;
        margin-left: auto;
        margin-right: auto;
        text-align: left;
    }
    #outputLabel { font-weight: bold; margin-bottom: 10px; display: block; text-shadow: 2px 2px 5px #000; }
    #output {
        background-color: rgba(0,0,0,0.5);
        padding: 20px;
        border-radius: 8px;
        max-height: 400px;
        overflow-y: auto;
        white-space: pre-wrap;
        word-wrap: break-word;
    }

    .success { color: #00FF00; font-weight: bold; }
    .error { color: #FF6347; font-weight: bold; }
</style>
</head>
<body>

<nav>
    <a href="index.html">Dashboard / Links</a> | 
    <a href="inventory.html">Inventory and Transaction Management</a> | 
    <a href="misc.html">Misc. Admin Actions</a> |
    <a href="transactionlog.html">Admin Logs</a>
</nav>

<h1>üè† Property Management</h1>

<!-- ===== Give Property ===== -->
<div class="card">
    <h3>üè° Give Property to Player</h3>
    <input type="text" id="giveUserId" placeholder="Target UserID" />
    <input type="text" id="givePropertyName" placeholder="Property Name" />
    <button id="givePropertyBtn">Give Property</button>
</div>

<!-- ===== Remove Property ===== -->
<div class="card">
    <h3>‚ùå Remove Property from Player</h3>
    <input type="text" id="removeUserId" placeholder="Target UserID" />
    <input type="text" id="removePropertyName" placeholder="Property Name" />
    <button id="removePropertyBtn">Remove Property</button>
</div>

<!-- ===== Delete Property ===== -->
<div class="card">
    <h3>üóë Delete Property (Unowned)</h3>
    <input type="text" id="deletePropertyName" placeholder="Property Name" />
    <button id="deletePropertyBtn">Delete Property</button>
</div>

<!-- ===== Output Box ===== -->
<div id="outputContainer">
    <span id="outputLabel">Output Box</span>
    <pre id="output"></pre>
</div>

<script>
const output = document.getElementById('output');

async function handleProperty(endpoint, body) {
    try {
        const res = await fetch(endpoint, {
            method: 'POST',
            headers: { 'Content-Type': 'application/json' },
            body: JSON.stringify(body)
        });
        const data = await res.json();

        if (data.success) {
            output.textContent += `‚úÖ ${data.message}\n`;
            output.className = 'success';
        } else {
            output.textContent += `‚ùå Error: ${data.message || 'Unknown error'}\n`;
            output.className = 'error';
        }
    } catch (err) {
        output.textContent += `‚ùå Error: ${err.message}\n`;
        output.className = 'error';
    }
    output.scrollTop = output.scrollHeight;
}

// Event Listeners
document.getElementById('givePropertyBtn').onclick = () => {
    const userId = document.getElementById('giveUserId').value.trim();
    const propertyName = document.getElementById('givePropertyName').value.trim();
    if (!userId || !propertyName) {
        output.textContent += '‚ùå Enter a valid UserID and Property Name.\n';
        output.className = 'error';
        return;
    }
    handleProperty('/api/properties/give', { userId, propertyName });
};

document.getElementById('removePropertyBtn').onclick = () => {
    const userId = document.getElementById('removeUserId').value.trim();
    const propertyName = document.getElementById('removePropertyName').value.trim();
    if (!userId || !propertyName) {
        output.textContent += '‚ùå Enter a valid UserID and Property Name.\n';
        output.className = 'error';
        return;
    }
    handleProperty('/api/properties/remove', { userId, propertyName });
};

document.getElementById('deletePropertyBtn').onclick = () => {
    const propertyName = document.getElementById('deletePropertyName').value.trim();
    if (!propertyName) {
        output.textContent += '‚ùå Enter a valid Property Name.\n';
        output.className = 'error';
        return;
    }
    handleProperty('/api/properties/delete', { propertyName });
};
</script>

</body>
</html>
